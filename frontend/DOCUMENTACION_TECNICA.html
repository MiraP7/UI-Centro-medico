<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocumentaciÃ³n TÃ©cnica - Health State</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 40px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .content {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        h1,
        h2,
        h3,
        h4 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 2.2rem;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        h2 {
            font-size: 1.8rem;
            color: #34495e;
            margin-top: 40px;
        }

        h3 {
            font-size: 1.4rem;
            color: #7f8c8d;
        }

        h4 {
            font-size: 1.2rem;
            color: #95a5a6;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        ul,
        ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin-bottom: 8px;
        }

        .highlight {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }

        .info-box {
            background-color: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
        }

        .warning-box {
            background-color: #fdf2e9;
            border-left: 4px solid #e67e22;
            padding: 15px;
            margin: 20px 0;
        }

        .code-block {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            overflow-x: auto;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tech-card {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
        }

        .tech-card h4 {
            color: #495057;
            margin-top: 0;
        }

        .module-section {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background-color: #ffffff;
        }

        .module-title {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            margin: -20px -20px 20px -20px;
            font-weight: bold;
        }

        .feature-list {
            columns: 2;
            column-gap: 30px;
        }

        .feature-list li {
            break-inside: avoid;
            margin-bottom: 10px;
        }

        .footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .toc {
            background-color: #f1f3f4;
            border: 1px solid #dadce0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .toc h3 {
            margin-top: 0;
            color: #1a73e8;
        }

        .toc ul {
            list-style-type: none;
            padding-left: 20px;
        }

        .toc a {
            color: #1a73e8;
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        @media print {
            body {
                background-color: white;
                max-width: none;
                margin: 0;
                padding: 15px;
            }

            .header {
                background: #2c3e50 !important;
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
            }
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
        }

        .status-implemented {
            background-color: #d4edda;
            color: #155724;
        }

        .status-admin-only {
            background-color: #fff3cd;
            color: #856404;
        }

        .architecture-diagram {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>ğŸ¥ HEALTH STATE</h1>
        <p>DocumentaciÃ³n TÃ©cnica - Sistema de GestiÃ³n Hospitalaria</p>
        <p><strong>VersiÃ³n 1.0 | Agosto 2025 | React + PrimeReact</strong></p>
    </div>

    <div class="content">
        <div class="toc">
            <h3>ğŸ“‹ Tabla de Contenidos</h3>
            <ul>
                <li><a href="#descripcion">1. DescripciÃ³n General del Sistema</a></li>
                <li><a href="#arquitectura">2. Arquitectura del Proyecto</a></li>
                <li><a href="#modulos">3. MÃ³dulos Principales</a></li>
                <li><a href="#auth">4. AutenticaciÃ³n y AutorizaciÃ³n</a></li>
                <li><a href="#servicios">5. Servicios y APIs</a></li>
                <li><a href="#componentes">6. Componentes Comunes</a></li>
                <li><a href="#routing">7. Enrutamiento</a></li>
                <li><a href="#tecnologias">8. TecnologÃ­as Utilizadas</a></li>
                <li><a href="#config">9. ConfiguraciÃ³n y Despliegue</a></li>
                <li><a href="#estructura">10. Estructura de Directorios</a></li>
            </ul>
        </div>

        <h1 id="descripcion">ğŸ“– 1. DescripciÃ³n General del Sistema</h1>

        <div class="info-box">
            <strong>Health State</strong> es un sistema integral de gestiÃ³n hospitalaria desarrollado en React que
            permite administrar de manera eficiente las operaciones de un centro mÃ©dico. El sistema cuenta con un
            sistema de roles (Administrador/Operador) que controla el acceso a diferentes mÃ³dulos segÃºn los permisos del
            usuario.
        </div>

        <h3>ğŸš€ CaracterÃ­sticas Principales:</h3>
        <div class="feature-list">
            <ul>
                <li><strong>GestiÃ³n de Pacientes:</strong> Registro, bÃºsqueda y administraciÃ³n</li>
                <li><strong>GestiÃ³n de Citas:</strong> ProgramaciÃ³n y administraciÃ³n de citas mÃ©dicas</li>
                <li><strong>FacturaciÃ³n:</strong> Sistema completo con integraciÃ³n ARS</li>
                <li><strong>AutorizaciÃ³n:</strong> GestiÃ³n de solicitudes mÃ©dicas</li>
                <li><strong>AdministraciÃ³n:</strong> GestiÃ³n de mÃ©dicos, usuarios y aseguradoras</li>
                <li><strong>Sistema de Roles:</strong> Control de acceso basado en permisos</li>
            </ul>
        </div>

        <h1 id="arquitectura">ğŸ—ï¸ 2. Arquitectura del Proyecto</h1>

        <div class="architecture-diagram">
            <h3>ğŸ“ Diagrama de Arquitectura</h3>
            <p><strong>Frontend (React) â†” API REST (Puerto 7256) â†” Base de Datos</strong></p>
        </div>

        <div class="tech-grid">
            <div class="tech-card">
                <h4>ğŸ¨ Frontend Stack</h4>
                <ul>
                    <li><strong>React 19.1.0</strong> - Framework principal</li>
                    <li><strong>React Router DOM 7.7.0</strong> - Enrutamiento SPA</li>
                    <li><strong>PrimeReact 10.9.6</strong> - Componentes UI</li>
                    <li><strong>Vite 6.3.5</strong> - Build tool moderno</li>
                    <li><strong>PrimeFlex 4.0.0</strong> - Utilidades CSS</li>
                </ul>
            </div>
            <div class="tech-card">
                <h4>ğŸ”§ Patrones de Arquitectura</h4>
                <ul>
                    <li><strong>Context API</strong> - Estado global de autenticaciÃ³n</li>
                    <li><strong>Componentes Funcionales</strong> - Con React Hooks</li>
                    <li><strong>SeparaciÃ³n de responsabilidades</strong> - Modular</li>
                    <li><strong>Rutas protegidas</strong> - VerificaciÃ³n de roles</li>
                </ul>
            </div>
        </div>

        <h1 id="modulos">ğŸ§© 3. MÃ³dulos Principales</h1>

        <div class="module-section">
            <div class="module-title">ğŸ” MÃ“DULO DE AUTENTICACIÃ“N</div>
            <p><strong>UbicaciÃ³n:</strong> <code>src/Views/auth/Login.jsx</code> |
                <code>src/contexts/AuthContext.jsx</code>
            </p>

            <h4>âš™ï¸ Funcionalidades:</h4>
            <ul>
                <li>Login con usuario y contraseÃ±a</li>
                <li>IntegraciÃ³n con API de autenticaciÃ³n</li>
                <li>GestiÃ³n de tokens JWT</li>
                <li>Mapeo de roles de usuario</li>
                <li>Persistencia de sesiÃ³n en localStorage</li>
            </ul>

            <div class="code-block">
                // Endpoints utilizados:
                POST https://localhost:7256/api/Auth/Login
                GET https://localhost:7256/api/Usuario/all?Search={usuario}
                GET https://localhost:7256/api/Rol/all

                // Roles soportados:
                - Administrador (rolId: 100) - Acceso completo
                - Operador (rolId: 200) - Acceso limitado
            </div>

            <h4>ğŸ”„ Flujo de AutenticaciÃ³n:</h4>
            <ol>
                <li>Usuario ingresa credenciales</li>
                <li>Sistema valida contra API de autenticaciÃ³n</li>
                <li>Si es vÃ¡lido, obtiene informaciÃ³n completa del usuario</li>
                <li>Mapea rolNombre a rolId numÃ©rico</li>
                <li>Almacena token y datos en localStorage</li>
                <li>Redirige a pÃ¡gina principal</li>
            </ol>
        </div>

        <div class="module-section">
            <div class="module-title">ğŸ‘¥ MÃ“DULO DE GESTIÃ“N DE PACIENTES</div>
            <p><strong>UbicaciÃ³n:</strong> <code>src/Views/PatientView.jsx</code> |
                <code>src/components/PatientRegistrationForm.jsx</code>
            </p>

            <h4>âš™ï¸ Funcionalidades:</h4>
            <ul>
                <li>Registro de nuevos pacientes <span class="status-badge status-implemented">âœ… Implementado</span>
                </li>
                <li>BÃºsqueda y filtrado de pacientes</li>
                <li>VisualizaciÃ³n en tabla con paginaciÃ³n</li>
                <li>EdiciÃ³n de informaciÃ³n de pacientes</li>
                <li>ValidaciÃ³n de cÃ©dulas en formato 10 dÃ­gitos</li>
            </ul>

            <h4>ğŸ“ Campos del Formulario:</h4>
            <div class="tech-grid">
                <div>
                    <ul>
                        <li>Nombre y Apellido</li>
                        <li>DNI/CÃ©dula (validaciÃ³n de formato)</li>
                        <li>Fecha de Nacimiento</li>
                    </ul>
                </div>
                <div>
                    <ul>
                        <li>InformaciÃ³n de contacto</li>
                        <li>Datos de seguro mÃ©dico</li>
                        <li>InformaciÃ³n mÃ©dica bÃ¡sica</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="module-section">
            <div class="module-title">ğŸ“… MÃ“DULO DE GESTIÃ“N DE CITAS</div>
            <p><strong>UbicaciÃ³n:</strong> <code>src/Views/HomePage.jsx</code> |
                <code>src/Services/CitaService.js</code>
            </p>

            <h4>âš™ï¸ Funcionalidades:</h4>
            <ul>
                <li>ProgramaciÃ³n de nuevas citas <span class="status-badge status-implemented">âœ… Implementado</span>
                </li>
                <li>VisualizaciÃ³n de citas programadas</li>
                <li>EdiciÃ³n y actualizaciÃ³n de citas</li>
                <li>BÃºsqueda y filtrado en tiempo real</li>
                <li>GestiÃ³n de horarios disponibles</li>
            </ul>

            <h4>ğŸ• CaracterÃ­sticas del Sistema:</h4>
            <div class="info-box">
                <ul>
                    <li><strong>Horarios:</strong> Franjas de 30 minutos desde 9:00 AM hasta 5:00 PM</li>
                    <li><strong>Estados:</strong> Programada, Completada, Cancelada</li>
                    <li><strong>Validaciones:</strong> No permitir citas en fechas pasadas</li>
                    <li><strong>BÃºsqueda:</strong> Por paciente, mÃ©dico, fecha, motivo</li>
                </ul>
            </div>

            <div class="code-block">
                // API Endpoints del CitaService:
                GET /api/Cita/all - Obtener todas las citas
                POST /api/Cita - Crear nueva cita
                PUT /api/Cita/{id} - Actualizar cita existente
                DELETE /api/Cita/{id} - Eliminar cita
            </div>
        </div>

        <div class="module-section">
            <div class="module-title">ğŸ’° MÃ“DULO DE FACTURACIÃ“N</div>
            <p><strong>UbicaciÃ³n:</strong> <code>src/Views/FacturacionView.jsx</code> |
                <code>src/Services/FacturaService.js</code>
            </p>
            <span class="status-badge status-admin-only">ğŸ‘‘ Solo Administradores</span>

            <h4>âš™ï¸ Funcionalidades Principales:</h4>
            <ul>
                <li><strong>Registro de Facturas:</strong> CreaciÃ³n de nuevas facturas mÃ©dicas</li>
                <li><strong>VerificaciÃ³n ARS:</strong> ValidaciÃ³n de cobertura de seguros</li>
                <li><strong>GestiÃ³n de Procedimientos:</strong> CatÃ¡logo de servicios mÃ©dicos</li>
                <li><strong>CÃ¡lculo AutomÃ¡tico:</strong> Montos, descuentos y copagos</li>
                <li><strong>Detalles de Factura:</strong> GestiÃ³n automÃ¡tica de lÃ­neas</li>
                <li><strong>BÃºsqueda Avanzada:</strong> Sistema de filtros mÃºltiples</li>
                <li><strong>Procesamiento de Pagos:</strong> Registro de pagos</li>
            </ul>

            <h4>ğŸ”„ Flujo del Proceso de FacturaciÃ³n:</h4>
            <ol>
                <li><strong>SelecciÃ³n de Paciente:</strong> BÃºsqueda por cÃ©dula</li>
                <li><strong>VerificaciÃ³n ARS:</strong> ValidaciÃ³n de cobertura activa</li>
                <li><strong>SelecciÃ³n de Procedimientos:</strong> CatÃ¡logo de servicios</li>
                <li><strong>CÃ¡lculo AutomÃ¡tico:</strong> Montos, descuentos, copagos</li>
                <li><strong>CreaciÃ³n de Detalles:</strong> LÃ­neas automÃ¡ticas por procedimiento</li>
                <li><strong>GeneraciÃ³n de Factura:</strong> CreaciÃ³n en el sistema</li>
                <li><strong>Procesamiento de Pago:</strong> Registro de pagos</li>
            </ol>

            <div class="warning-box">
                <h4>ğŸ”’ CaracterÃ­sticas de Seguridad:</h4>
                <ul>
                    <li><strong>Estados de Factura:</strong> Pendiente, Pagada, Anulada</li>
                    <li><strong>Validaciones ARS:</strong> VerificaciÃ³n de cobertura activa</li>
                    <li><strong>Campos Bloqueados:</strong> InformaciÃ³n del paciente post-verificaciÃ³n</li>
                    <li><strong>CÃ¡lculo de Copagos:</strong> SegÃºn plan de seguro</li>
                </ul>
            </div>
        </div>

        <div class="module-section">
            <div class="module-title">ğŸ“‹ MÃ“DULO DE AUTORIZACIÃ“N</div>
            <p><strong>UbicaciÃ³n:</strong> <code>src/Views/SolicitudView.jsx</code></p>

            <h4>âš™ï¸ Funcionalidades:</h4>
            <ul>
                <li><strong>GestiÃ³n de Solicitudes:</strong> CreaciÃ³n y seguimiento</li>
                <li><strong>Estados de Solicitud:</strong> Pendiente, Aprobada, Rechazada</li>
                <li><strong>Seguimiento:</strong> Historial completo de solicitudes</li>
                <li><strong>Filtros:</strong> BÃºsqueda por paciente, estado, fecha</li>
            </ul>
        </div>

        <div class="tech-grid">
            <div class="module-section">
                <div class="module-title">ğŸ‘¨â€âš•ï¸ MÃ“DULO DE MÃ‰DICOS</div>
                <span class="status-badge status-admin-only">ğŸ‘‘ Solo Administradores</span>
                <p><strong>UbicaciÃ³n:</strong> <code>src/Views/MedicoView.jsx</code></p>
                <ul>
                    <li>Registro de nuevos mÃ©dicos</li>
                    <li>GestiÃ³n de especialidades</li>
                    <li>AsignaciÃ³n de horarios</li>
                    <li>Control de disponibilidad</li>
                </ul>
            </div>

            <div class="module-section">
                <div class="module-title">ğŸ‘¤ MÃ“DULO DE USUARIOS</div>
                <span class="status-badge status-admin-only">ğŸ‘‘ Solo Administradores</span>
                <p><strong>UbicaciÃ³n:</strong> <code>src/Views/UserView.jsx</code></p>
                <ul>
                    <li>GestiÃ³n completa de usuarios</li>
                    <li>AsignaciÃ³n de roles y permisos</li>
                    <li>ActivaciÃ³n/desactivaciÃ³n</li>
                    <li>GestiÃ³n de credenciales</li>
                </ul>
            </div>
        </div>

        <div class="module-section">
            <div class="module-title">ğŸ¢ MÃ“DULO DE ASEGURADORAS</div>
            <p><strong>UbicaciÃ³n:</strong> <code>src/Views/AseguradoraView.jsx</code> |
                <code>src/Services/AseguradoraService.js</code>
            </p>
            <span class="status-badge status-admin-only">ğŸ‘‘ Solo Administradores</span>

            <h4>âš™ï¸ Funcionalidades:</h4>
            <ul>
                <li>Registro de nuevas aseguradoras</li>
                <li>GestiÃ³n de planes de seguro</li>
                <li>ConfiguraciÃ³n de copagos</li>
                <li>Mantenimiento de contratos</li>
            </ul>

            <h4>ğŸ”— IntegraciÃ³n:</h4>
            <div class="info-box">
                <ul>
                    <li><strong>FacturaciÃ³n:</strong> Conectado con el sistema de facturaciÃ³n</li>
                    <li><strong>ValidaciÃ³n:</strong> AutomÃ¡tica de coberturas</li>
                    <li><strong>CÃ¡lculos:</strong> Copagos dinÃ¡micos</li>
                </ul>
            </div>
        </div>

        <h1 id="auth">ğŸ” 4. AutenticaciÃ³n y AutorizaciÃ³n</h1>

        <h3>ğŸ‘‘ Sistema de Roles</h3>

        <div class="tech-grid">
            <div class="tech-card">
                <h4>ğŸ”‘ Administrador (rolId: 100)</h4>
                <ul>
                    <li><strong>Acceso Completo:</strong> Todos los mÃ³dulos</li>
                    <li><strong>MÃ³dulos Exclusivos:</strong> FacturaciÃ³n, MÃ©dicos, Usuarios, Aseguradoras</li>
                    <li><strong>Permisos:</strong> CreaciÃ³n, ediciÃ³n, eliminaciÃ³n</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>ğŸ‘¤ Operador (rolId: 200)</h4>
                <ul>
                    <li><strong>Acceso Limitado:</strong> MÃ³dulos bÃ¡sicos</li>
                    <li><strong>MÃ³dulos Permitidos:</strong> Home, Pacientes, AutorizaciÃ³n</li>
                    <li><strong>Permisos:</strong> Operaciones bÃ¡sicas</li>
                </ul>
            </div>
        </div>

        <h3>ğŸ› ï¸ ImplementaciÃ³n TÃ©cnica</h3>

        <div class="code-block">
            // AuthContext (src/contexts/AuthContext.jsx)
            // Funciones principales:
            - login(token, userData) - Iniciar sesiÃ³n
            - logout() - Cerrar sesiÃ³n
            - isAdmin() - Verificar si es administrador
            - canAccessAdminModules() - Verificar acceso a mÃ³dulos admin
            - validateAdminRole(rolId) - Validar rol de administrador
        </div>

        <h4>ğŸ›¡ï¸ Rutas Protegidas</h4>
        <ul>
            <li>VerificaciÃ³n de autenticaciÃ³n</li>
            <li>ValidaciÃ³n de permisos por ruta</li>
            <li>RedirecciÃ³n automÃ¡tica a login o pÃ¡gina no autorizada</li>
        </ul>

        <h4>ğŸ’¾ Persistencia</h4>
        <ul>
            <li><strong>Token JWT</strong> almacenado en localStorage</li>
            <li><strong>Datos de usuario</strong> persistidos entre sesiones</li>
            <li><strong>ValidaciÃ³n automÃ¡tica</strong> al recargar la aplicaciÃ³n</li>
        </ul>

        <h1 id="servicios">ğŸ”Œ 5. Servicios y APIs</h1>

        <div class="info-box">
            <h4>âš™ï¸ ConfiguraciÃ³n Base</h4>
            <ul>
                <li><strong>Puerto del backend:</strong> 7256</li>
                <li><strong>URL base:</strong> https://localhost:7256/api</li>
                <li><strong>AutenticaciÃ³n:</strong> Bearer Token</li>
            </ul>
        </div>

        <div class="tech-grid">
            <div class="tech-card">
                <h4>ğŸ“… CitaService.js</h4>
                <p><strong>PropÃ³sito:</strong> GestiÃ³n de citas mÃ©dicas</p>
                <div class="code-block">
                    getAllCitas() - Obtener todas las citas
                    createCita(citaData) - Crear nueva cita
                    updateCita(id, data) - Actualizar cita
                    deleteCita(id) - Eliminar cita
                    searchCitas(criteria) - BÃºsqueda avanzada
                </div>
            </div>

            <div class="tech-card">
                <h4>ğŸ’° FacturaService.js</h4>
                <p><strong>PropÃ³sito:</strong> GestiÃ³n del sistema de facturaciÃ³n</p>
                <div class="code-block">
                    getAllFacturas() - Listar facturas
                    createFactura(data) - Crear factura
                    searchFacturas(criteria)- BÃºsqueda de facturas
                    payBill(id, payment) - Procesar pago
                    createDetalleFactura() - Crear detalle
                    getAllProcedimientos() - Obtener procedimientos
                </div>
            </div>

            <div class="tech-card">
                <h4>ğŸ¢ AseguradoraService.js</h4>
                <p><strong>PropÃ³sito:</strong> GestiÃ³n de aseguradoras</p>
                <div class="code-block">
                    getAllAseguradoras() - Listar aseguradoras
                    validateARS(cedula) - Validar cobertura ARS
                    createAseguradora(data) - Registrar aseguradora
                    updateAseguradora(id) - Actualizar aseguradora
                </div>
            </div>

            <div class="tech-card">
                <h4>ğŸ‘¤ UserService.js</h4>
                <p><strong>PropÃ³sito:</strong> GestiÃ³n de usuarios</p>
                <div class="code-block">
                    getAllUsers() - Listar usuarios
                    createUser(userData) - Crear usuario
                    updateUser(id, data) - Actualizar usuario
                    deleteUser(id) - Eliminar usuario
                    getUserByUsername() - Buscar por usuario
                </div>
            </div>
        </div>

        <h3>âš ï¸ GestiÃ³n de Errores</h3>
        <div class="warning-box">
            Todos los servicios implementan:
            <ul>
                <li><strong>Manejo de errores HTTP</strong> con cÃ³digos de estado</li>
                <li><strong>Mensajes descriptivos</strong> para el usuario</li>
                <li><strong>Logging automÃ¡tico</strong> para debugging</li>
                <li><strong>Reintentos automÃ¡ticos</strong> en casos de falla temporal</li>
            </ul>
        </div>

        <h1 id="componentes">ğŸ§© 6. Componentes Comunes</h1>

        <div class="module-section">
            <div class="module-title">ğŸ¨ Layout.jsx</div>
            <p><strong>PropÃ³sito:</strong> Layout principal de la aplicaciÃ³n</p>

            <h4>ğŸŒŸ CaracterÃ­sticas:</h4>
            <ul>
                <li><strong>Header:</strong> Logo clickeable, informaciÃ³n de usuario, logout</li>
                <li><strong>Sidebar:</strong> NavegaciÃ³n principal con menÃº colapsible</li>
                <li><strong>Contenido:</strong> Ãrea principal para renderizar vistas</li>
                <li><strong>Responsive:</strong> Adaptable a diferentes tamaÃ±os</li>
            </ul>

            <h4>âš™ï¸ Funcionalidades:</h4>
            <ul>
                <li>NavegaciÃ³n con React Router</li>
                <li>MenÃº generado dinÃ¡micamente segÃºn rol</li>
                <li>Estados activos visuales en navegaciÃ³n</li>
                <li>InformaciÃ³n de usuario en tiempo real</li>
            </ul>
        </div>

        <div class="tech-grid">
            <div class="tech-card">
                <h4>ğŸ›¡ï¸ ProtectedRoute.jsx</h4>
                <p><strong>PropÃ³sito:</strong> ProtecciÃ³n de rutas</p>
                <ul>
                    <li>VerificaciÃ³n de autenticaciÃ³n</li>
                    <li>ValidaciÃ³n de roles especÃ­ficos</li>
                    <li>RedirecciÃ³n automÃ¡tica</li>
                    <li>Loading states durante verificaciÃ³n</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>ğŸ¯ Icons.jsx</h4>
                <p><strong>PropÃ³sito:</strong> Iconos personalizados</p>
                <ul>
                    <li>Iconos SVG optimizados</li>
                    <li>Props configurables (tamaÃ±o, color)</li>
                    <li>Consistencia visual</li>
                </ul>
            </div>
        </div>

        <h3>ğŸ“ Formularios de Registro</h3>
        <div class="info-box">
            <h4>âœ¨ CaracterÃ­sticas Comunes:</h4>
            <ul>
                <li><strong>ValidaciÃ³n en tiempo real</strong></li>
                <li><strong>Estados de carga</strong></li>
                <li><strong>Manejo de errores</strong></li>
                <li><strong>IntegraciÃ³n con PrimeReact</strong></li>
                <li><strong>Responsive design</strong></li>
            </ul>
        </div>

        <h1 id="routing">ğŸ›£ï¸ 7. Enrutamiento</h1>

        <h3>âš™ï¸ ConfiguraciÃ³n Principal (App.jsx)</h3>
        <p>El sistema utiliza <strong>React Router DOM v7.7.0</strong> con la siguiente estructura:</p>

        <div class="code-block">
            // Rutas principales:
            / - HomePage (protegida)
            /login - Login (pÃºblica)
            /pacientes - PatientView (protegida)
            /facturacion - FacturacionView (admin Ãºnicamente)
            /autorizacion - SolicitudView (protegida)
            /medicos - MedicoView (admin Ãºnicamente)
            /usuarios - UserView (admin Ãºnicamente)
            /aseguradoras - AseguradoraView (admin Ãºnicamente)
            /unauthorized - UnauthorizedPage (protegida)
        </div>

        <h3>ğŸŒŸ CaracterÃ­sticas del Enrutamiento:</h3>
        <ul>
            <li><strong>Rutas Protegidas:</strong> VerificaciÃ³n de autenticaciÃ³n obligatoria</li>
            <li><strong>Control de Roles:</strong> Acceso diferenciado segÃºn nivel de usuario</li>
            <li><strong>Redirecciones:</strong> AutomÃ¡ticas segÃºn estado de autenticaciÃ³n</li>
            <li><strong>Fallbacks:</strong> PÃ¡ginas de error y no autorizado</li>
            <li><strong>Navigation Guards:</strong> ValidaciÃ³n previa al acceso</li>
        </ul>

        <h1 id="tecnologias">ğŸ’» 8. TecnologÃ­as Utilizadas</h1>

        <div class="tech-grid">
            <div class="tech-card">
                <h4>âš›ï¸ Frontend Core</h4>
                <ul>
                    <li><strong>React 19.1.0</strong> - Biblioteca principal de UI</li>
                    <li><strong>React DOM 19.1.0</strong> - Renderizado en navegador</li>
                    <li><strong>React Router DOM 7.7.0</strong> - Enrutamiento SPA</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>ğŸ¨ UI Framework</h4>
                <ul>
                    <li><strong>PrimeReact 10.9.6</strong> - Componentes UI avanzados</li>
                    <li><strong>PrimeFlex 4.0.0</strong> - Utilidades CSS flexbox</li>
                    <li><strong>PrimeIcons 7.0.0</strong> - Biblioteca de iconos</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>ğŸ› ï¸ Build Tools</h4>
                <ul>
                    <li><strong>Vite 6.3.5</strong> - Herramienta de construcciÃ³n</li>
                    <li><strong>ESLint 9.25.0</strong> - Linting de cÃ³digo</li>
                    <li><strong>@vitejs/plugin-react</strong> - Plugin React para Vite</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>ğŸ§ª Development Dependencies</h4>
                <ul>
                    <li><strong>TypeScript Types</strong> - Tipado para desarrollo</li>
                    <li><strong>ESLint Plugins</strong> - Reglas especÃ­ficas para React</li>
                    <li><strong>Globals</strong> - Variables globales para ESLint</li>
                </ul>
            </div>
        </div>

        <h3>ğŸŒŸ CaracterÃ­sticas de PrimeReact Utilizadas:</h3>
        <div class="highlight">
            <div style="columns: 2; column-gap: 30px;">
                <ul>
                    <li><strong>DataTable</strong> - Tablas avanzadas con paginaciÃ³n, filtros, ordenamiento</li>
                    <li><strong>Dialog</strong> - Modales y ventanas emergentes</li>
                    <li><strong>InputText/InputTextarea</strong> - Campos de entrada</li>
                    <li><strong>Calendar</strong> - SelecciÃ³n de fechas</li>
                    <li><strong>Dropdown</strong> - Listas desplegables</li>
                    <li><strong>Button</strong> - Botones con iconos y estados</li>
                    <li><strong>Toast</strong> - Notificaciones no intrusivas</li>
                    <li><strong>ConfirmDialog</strong> - DiÃ¡logos de confirmaciÃ³n</li>
                    <li><strong>PanelMenu</strong> - NavegaciÃ³n jerÃ¡rquica</li>
                    <li><strong>Sidebar</strong> - Panel lateral deslizable</li>
                </ul>
            </div>
        </div>

        <h1 id="config">âš™ï¸ 9. ConfiguraciÃ³n y Despliegue</h1>

        <h3>ğŸ› ï¸ ConfiguraciÃ³n de Desarrollo</h3>

        <div class="code-block">
            // Archivo: vite.config.js
            export default defineConfig({
            plugins: [react()],
            server: {
            proxy: {
            '/api': {
            target: 'https://localhost:7256',
            changeOrigin: true,
            secure: false,
            }
            }
            }
            })
        </div>

        <h4>ğŸ“œ Scripts Disponibles:</h4>
        <div class="code-block">
            {
            "scripts": {
            "dev": "vite", // Servidor de desarrollo
            "build": "vite build", // ConstrucciÃ³n para producciÃ³n
            "lint": "eslint .", // AnÃ¡lisis de cÃ³digo
            "preview": "vite preview" // Vista previa de build
            }
            }
        </div>

        <h3>ğŸŒ Variables de Entorno</h3>
        <div class="code-block">
            // ConfiguraciÃ³n recomendada (.env):
            VITE_API_BASE_URL=https://localhost:7256/api
            VITE_API_TIMEOUT=10000
            VITE_ENABLE_LOGGING=true
        </div>

        <h3>ğŸš€ Despliegue en ProducciÃ³n</h3>

        <div class="warning-box">
            <h4>ğŸ“¦ ConstrucciÃ³n:</h4>
            <code>npm run build</code>

            <h4>ğŸ“ Archivos Generados:</h4>
            <ul>
                <li><code>dist/</code> - Carpeta con archivos estÃ¡ticos optimizados</li>
                <li>Assets con hash para cache busting</li>
                <li>HTML, CSS, JS minificados</li>
            </ul>
        </div>

        <h1 id="estructura">ğŸ“ 10. Estructura de Directorios</h1>

        <div class="code-block">
            frontend/
            â”œâ”€â”€ public/ # Archivos pÃºblicos estÃ¡ticos
            â”‚ â””â”€â”€ vite.svg # Favicon
            â”œâ”€â”€ src/ # CÃ³digo fuente
            â”‚ â”œâ”€â”€ assets/ # Recursos estÃ¡ticos
            â”‚ â”‚ â””â”€â”€ react.svg # Logo de React
            â”‚ â”œâ”€â”€ components/ # Componentes reutilizables
            â”‚ â”‚ â”œâ”€â”€ common/ # Componentes comunes
            â”‚ â”‚ â”‚ â””â”€â”€ Icons.jsx # Iconos personalizados
            â”‚ â”‚ â”œâ”€â”€ AppointmentRegistrationForm.jsx
            â”‚ â”‚ â”œâ”€â”€ FacturacionRegistrationForm.jsx
            â”‚ â”‚ â”œâ”€â”€ Layout.jsx # Layout principal
            â”‚ â”‚ â”œâ”€â”€ PatientRegistrationForm.jsx
            â”‚ â”‚ â””â”€â”€ ProtectedRoute.jsx # ProtecciÃ³n de rutas
            â”‚ â”œâ”€â”€ contexts/ # Contextos de React
            â”‚ â”‚ â””â”€â”€ AuthContext.jsx # GestiÃ³n de autenticaciÃ³n
            â”‚ â”œâ”€â”€ Services/ # Servicios de API
            â”‚ â”‚ â”œâ”€â”€ AseguradoraService.js # GestiÃ³n de aseguradoras
            â”‚ â”‚ â”œâ”€â”€ CitaService.js # GestiÃ³n de citas
            â”‚ â”‚ â”œâ”€â”€ FacturaService.js # GestiÃ³n de facturaciÃ³n
            â”‚ â”‚ â””â”€â”€ UserService.js # GestiÃ³n de usuarios
            â”‚ â”œâ”€â”€ Views/ # Vistas/PÃ¡ginas principales
            â”‚ â”‚ â”œâ”€â”€ auth/ # AutenticaciÃ³n
            â”‚ â”‚ â”‚ â”œâ”€â”€ Login.jsx # PÃ¡gina de login
            â”‚ â”‚ â”‚ â””â”€â”€ Login.css # Estilos de login
            â”‚ â”‚ â”œâ”€â”€ AseguradoraView.jsx # Vista de aseguradoras
            â”‚ â”‚ â”œâ”€â”€ FacturacionView.jsx # Vista de facturaciÃ³n
            â”‚ â”‚ â”œâ”€â”€ HomePage.jsx # PÃ¡gina principal
            â”‚ â”‚ â”œâ”€â”€ MedicoView.jsx # Vista de mÃ©dicos
            â”‚ â”‚ â”œâ”€â”€ PatientView.jsx # Vista de pacientes
            â”‚ â”‚ â”œâ”€â”€ SolicitudView.jsx # Vista de autorizaciones
            â”‚ â”‚ â”œâ”€â”€ UnauthorizedPage.jsx # PÃ¡gina de acceso denegado
            â”‚ â”‚ â””â”€â”€ UserView.jsx # Vista de usuarios
            â”‚ â”œâ”€â”€ App.css # Estilos globales de App
            â”‚ â”œâ”€â”€ App.jsx # Componente principal
            â”‚ â”œâ”€â”€ index.css # Estilos globales
            â”‚ â””â”€â”€ main.jsx # Punto de entrada
            â”œâ”€â”€ eslint.config.js # ConfiguraciÃ³n ESLint
            â”œâ”€â”€ index.html # HTML principal
            â”œâ”€â”€ package.json # Dependencias y scripts
            â””â”€â”€ vite.config.js # ConfiguraciÃ³n Vite
        </div>

        <h3>ğŸ“ Convenciones de Nomenclatura:</h3>
        <div class="info-box">
            <ul>
                <li><strong>Componentes:</strong> PascalCase (ej. <code>PatientView.jsx</code>)</li>
                <li><strong>Servicios:</strong> PascalCase con sufijo Service (ej. <code>CitaService.js</code>)</li>
                <li><strong>Estilos:</strong> kebab-case (ej. <code>login.css</code>)</li>
                <li><strong>Constantes:</strong> UPPER_SNAKE_CASE</li>
                <li><strong>Variables:</strong> camelCase</li>
            </ul>
        </div>

        <h1>ğŸ”’ CaracterÃ­sticas de Seguridad</h1>

        <div class="tech-grid">
            <div class="tech-card">
                <h4>ğŸ” AutenticaciÃ³n JWT</h4>
                <ul>
                    <li><strong>Token Bearer:</strong> Incluido en todas las peticiones API</li>
                    <li><strong>ExpiraciÃ³n:</strong> Manejo automÃ¡tico de tokens expirados</li>
                    <li><strong>RenovaciÃ³n:</strong> RenovaciÃ³n automÃ¡tica cuando es posible</li>
                    <li><strong>Limpieza:</strong> EliminaciÃ³n segura al cerrar sesiÃ³n</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>âœ… ValidaciÃ³n de Entrada</h4>
                <ul>
                    <li><strong>SanitizaciÃ³n:</strong> Limpieza de datos de entrada</li>
                    <li><strong>ValidaciÃ³n Frontend:</strong> ValidaciÃ³n inmediata en UI</li>
                    <li><strong>ValidaciÃ³n Backend:</strong> ValidaciÃ³n adicional en servidor</li>
                    <li><strong>Escape de Datos:</strong> PrevenciÃ³n de XSS</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>ğŸ›¡ï¸ Control de Acceso</h4>
                <ul>
                    <li><strong>Roles Granulares:</strong> Control fino de permisos</li>
                    <li><strong>Rutas Protegidas:</strong> ValidaciÃ³n en cada navegaciÃ³n</li>
                    <li><strong>Estados de SesiÃ³n:</strong> VerificaciÃ³n continua</li>
                    <li><strong>Timeouts:</strong> Cierre automÃ¡tico por inactividad</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>âš ï¸ Manejo de Errores</h4>
                <ul>
                    <li><strong>401 Unauthorized:</strong> RedirecciÃ³n automÃ¡tica a login</li>
                    <li><strong>403 Forbidden:</strong> PÃ¡gina de acceso denegado</li>
                    <li><strong>Network Errors:</strong> Manejo graceful de errores</li>
                    <li><strong>Logging:</strong> Registro de intentos no autorizados</li>
                </ul>
            </div>
        </div>

        <h1>ğŸš€ Futuras Mejoras y Extensiones</h1>

        <h3>ğŸ”® Funcionalidades Pendientes</h3>
        <div class="feature-list">
            <ol>
                <li><strong>Sistema de Reportes:</strong> GeneraciÃ³n de reportes PDF</li>
                <li><strong>Dashboard Analytics:</strong> MÃ©tricas y grÃ¡ficos avanzados</li>
                <li><strong>Notificaciones:</strong> Sistema en tiempo real</li>
                <li><strong>Mobile App:</strong> AplicaciÃ³n mÃ³vil complementaria</li>
                <li><strong>API RESTful Completa:</strong> Endpoints adicionales</li>
                <li><strong>Backup AutomÃ¡tico:</strong> Sistema de respaldos</li>
                <li><strong>Multi-tenancy:</strong> Soporte para mÃºltiples centros</li>
            </ol>
        </div>

        <h3>âš¡ Mejoras TÃ©cnicas</h3>
        <div class="feature-list">
            <ol>
                <li><strong>TypeScript:</strong> MigraciÃ³n completa a TypeScript</li>
                <li><strong>PWA:</strong> Convertir en Progressive Web App</li>
                <li><strong>CI/CD:</strong> Pipeline de integraciÃ³n continua</li>
                <li><strong>Docker:</strong> ContainerizaciÃ³n para despliegue</li>
                <li><strong>Monitoring:</strong> Sistema de monitoreo en producciÃ³n</li>
            </ol>
        </div>

        <h3>ğŸ¨ Mejoras de UX/UI</h3>
        <div class="feature-list">
            <ol>
                <li><strong>Tema Oscuro:</strong> Soporte para modo oscuro</li>
                <li><strong>Accesibilidad:</strong> Mejoras de accesibilidad (WCAG)</li>
                <li><strong>InternacionalizaciÃ³n:</strong> Soporte multi-idioma</li>
                <li><strong>Responsive Avanzado:</strong> OptimizaciÃ³n mÃ³vil mejorada</li>
                <li><strong>Animaciones:</strong> Transiciones y micro-interacciones</li>
            </ol>
        </div>
    </div>

    <div class="footer">
        <h3>ğŸ“ Contacto y Soporte</h3>
        <p><strong>Health State - Sistema de GestiÃ³n Hospitalaria</strong></p>

        <div class="contact-info"
            style="margin: 20px 0; padding: 20px; background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border-radius: 12px; border-left: 5px solid #1976d2; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
            <h4 style="margin-top: 0; color: #1565c0; font-size: 18px; font-weight: bold;">ğŸ†˜ Soporte TÃ©cnico 24/7</h4>
            <p style="margin: 10px 0; color: #0d47a1; font-weight: 500;"><strong style="color: #1565c0;">ğŸ“±
                    TelÃ©fono:</strong> <span style="color: #0d47a1; font-family: monospace; font-size: 16px;">+1 (809)
                    555-HEALTH | +1 (809) 555-432584</span></p>
            <p style="margin: 10px 0; color: #0d47a1; font-weight: 500;"><strong style="color: #1565c0;">âœ‰ï¸
                    Email:</strong> <span
                    style="color: #1976d2; text-decoration: underline;">soporte@healthstate.com</span></p>
            <p style="margin: 10px 0; color: #0d47a1; font-weight: 500;"><strong style="color: #1565c0;">ğŸŒ Portal de
                    Ayuda:</strong> <span
                    style="color: #1976d2; text-decoration: underline;">help.healthstate.com</span></p>
            <p style="margin: 10px 0; color: #0d47a1; font-weight: 500;"><strong style="color: #1565c0;">ğŸ’¬ Chat en
                    Vivo:</strong> <span style="color: #0d47a1;">Disponible en la aplicaciÃ³n</span></p>
        </div>

        <div class="contact-info"
            style="margin: 20px 0; padding: 20px; background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); border-radius: 12px; border-left: 5px solid #7b1fa2; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
            <h4 style="margin-top: 0; color: #6a1b9a; font-size: 18px; font-weight: bold;">ğŸ¥ Contacto Comercial</h4>
            <p style="margin: 10px 0; color: #4a148c; font-weight: 500;"><strong style="color: #6a1b9a;">ğŸ“
                    Ventas:</strong> <span style="color: #4a148c; font-family: monospace; font-size: 16px;">+1 (809)
                    555-SALES | +1 (809) 555-72537</span></p>
            <p style="margin: 10px 0; color: #4a148c; font-weight: 500;"><strong style="color: #6a1b9a;">ğŸ“§ Email
                    Comercial:</strong> <span
                    style="color: #7b1fa2; text-decoration: underline;">ventas@healthstate.com</span></p>
            <p style="margin: 10px 0; color: #4a148c; font-weight: 500;"><strong style="color: #6a1b9a;">ğŸ‘”
                    Gerencia:</strong> <span
                    style="color: #7b1fa2; text-decoration: underline;">gerencia@healthstate.com</span></p>
        </div>

        <p>VersiÃ³n 1.0 | TecnologÃ­a: React + PrimeReact | Arquitectura: SPA</p>
        <p><strong>Â© 2025 Health State. Todos los derechos reservados.</strong></p>
        <p><em>DocumentaciÃ³n TÃ©cnica v1.0 - Ãšltima actualizaciÃ³n: Agosto 2025</em></p>
    </div>

    <script>
        // Agregar funcionalidad de impresiÃ³n
        document.addEventListener('DOMContentLoaded', function () {
            // Crear botÃ³n de imprimir
            const printButton = document.createElement('button');
            printButton.innerHTML = 'ğŸ–¨ï¸ Imprimir DocumentaciÃ³n';
            printButton.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #3498db;
                color: white;
                border: none;
                padding: 12px 20px;
                border-radius: 8px;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                font-weight: bold;
                z-index: 1000;
            `;

            printButton.addEventListener('click', function () {
                window.print();
            });

            document.body.appendChild(printButton);

            // Agregar smooth scroll para los enlaces del TOC
            document.querySelectorAll('.toc a').forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        });
    </script>
</body>

</html>